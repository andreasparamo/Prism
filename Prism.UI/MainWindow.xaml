<Window x:Class="Prism.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        xmlns:viewmodels="clr-namespace:Prism.UI.ViewModels"
        xmlns:views="clr-namespace:Prism.UI.Views"
        mc:Ignorable="d"
        Title="Prism" Height="768" Width="1024"
        WindowStartupLocation="CenterScreen"
        TextElement.Foreground="{StaticResource TextPrimary}"
        FontFamily="{materialDesign:MaterialDesignFont}">
    
    <Window.DataContext>
        <viewmodels:MainViewModel/>
    </Window.DataContext>

    <Grid>
        <!-- Background Image Layer -->
        <Grid.Background>
            <ImageBrush ImageSource="pack://siteoforigin:,,,/Assets/Images/background.jpg" Stretch="UniformToFill" Opacity="0.15"/>
        </Grid.Background>
        
        <!-- Dark Overlay -->
        <Rectangle Fill="{StaticResource AppBackground}" Opacity="0.85"/>
        
        <!-- Content Grid -->
        <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border Grid.Column="0" Background="{StaticResource CardBackground}" CornerRadius="0,20,20,0" Margin="0,0,10,0" Effect="{StaticResource MaterialDesignShadowDepth2}">
            <StackPanel>
                <!-- Logo -->
                <StackPanel Orientation="Horizontal" Margin="25,40,0,50">
                     <TextBlock Text="PRISM" FontSize="24" FontWeight="Bold" Margin="15,0,0,0" VerticalAlignment="Center" FontFamily="Segoe UI" Foreground="White" />
                </StackPanel>

                <!-- Nav Items -->
                <RadioButton Style="{StaticResource NavButtonStyle}" 
                             Command="{Binding NavigateDashboardCommand}"
                             IsChecked="True">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="ViewDashboardOutline" Width="24" Height="24" Margin="0,0,20,0"/>
                        <TextBlock Text="Dashboard" FontSize="16" VerticalAlignment="Center"/>
                    </StackPanel>
                </RadioButton>

                <RadioButton Style="{StaticResource NavButtonStyle}" 
                             Command="{Binding NavigateScheduleCommand}">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="CalendarClockOutline" Width="24" Height="24" Margin="0,0,20,0"/>
                        <TextBlock Text="Schedule" FontSize="16" VerticalAlignment="Center"/>
                    </StackPanel>
                </RadioButton>

                <RadioButton Style="{StaticResource NavButtonStyle}" 
                             Command="{Binding NavigateStatsCommand}">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="ChartBar" Width="24" Height="24" Margin="0,0,20,0"/>
                        <TextBlock Text="Analytics" FontSize="16" VerticalAlignment="Center"/>
                    </StackPanel>
                </RadioButton>
                
                <RadioButton Style="{StaticResource NavButtonStyle}" 
                             Command="{Binding NavigateSettingsCommand}">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="CogOutline" Width="24" Height="24" Margin="0,0,20,0"/>
                        <TextBlock Text="Settings" FontSize="16" VerticalAlignment="Center"/>
                    </StackPanel>
                </RadioButton>

            </StackPanel>
        </Border>

        <!-- Main Content -->
        <ContentControl Grid.Column="1" Content="{Binding CurrentViewModel}" Margin="20" FocusVisualStyle="{x:Null}">
            <ContentControl.Resources>
                <DataTemplate DataType="{x:Type viewmodels:DashboardViewModel}">
                    <views:DashboardPage/>
                </DataTemplate>
                
                <DataTemplate DataType="{x:Type viewmodels:ScheduleViewModel}">
                    <Border Background="{StaticResource CardBackground}" CornerRadius="20" Padding="30">
                        <TextBlock Text="Schedule (Coming Soon)" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </DataTemplate>
                
                <DataTemplate DataType="{x:Type viewmodels:StatsViewModel}">
                    <Border Background="{StaticResource CardBackground}" CornerRadius="20" Padding="30">
                        <TextBlock Text="Statistics (Coming Soon)" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </DataTemplate>
                
                <DataTemplate DataType="{x:Type viewmodels:SettingsViewModel}">
                    <Border Background="{StaticResource CardBackground}" CornerRadius="20" Padding="30">
                        <TextBlock Text="Settings (Coming Soon)" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </DataTemplate>
            </ContentControl.Resources>
        </ContentControl>
        </Grid>
    </Grid>
</Window>
