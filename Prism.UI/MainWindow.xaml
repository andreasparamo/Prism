<Window x:Class="Prism.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:viewmodels="clr-namespace:Prism.UI.ViewModels"
        xmlns:views="clr-namespace:Prism.UI.Views"
        mc:Ignorable="d"
        Title="Prism" Height="768" Width="1024"
        WindowStartupLocation="CenterScreen"
        TextElement.Foreground="{StaticResource TextPrimary}"
        FontFamily="{materialDesign:MaterialDesignFont}">
<Window.Resources>
    <SolidColorBrush x:Key="LogoDefaultBrush" Color="White" />
    <SolidColorBrush x:Key="LogoAccentBrush" Color="#ffffffff" />
</Window.Resources>
    <Window.DataContext>
        <viewmodels:MainViewModel/>
    </Window.DataContext>

    <Grid Background="{StaticResource AppBackground}">
        <!-- Content Grid -->
        <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border Grid.Column="0" Background="{StaticResource CardBackground}" CornerRadius="0,20,20,0" Margin="0,0,10,0" 
                Effect="{StaticResource MaterialDesignShadowDepth2}"
                Visibility="{Binding ShowSidebar, Converter={StaticResource BooleanToVisibilityConverter}}"
                Width="220">
            <StackPanel>
                <!-- Logo -->
                <TextBlock Text="PRISM" FontSize="24" FontWeight="Bold" Margin="0,40,0,50" 
                           HorizontalAlignment="Center" FontFamily="Segoe UI" Foreground="White" />

                <!-- Nav Items -->
                <RadioButton Style="{StaticResource NavButtonStyle}" 
                             Command="{Binding NavigateDashboardCommand}"
                             IsChecked="True">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="ViewDashboardOutline" Width="24" Height="24" Margin="0,0,20,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Dashboard" FontSize="16" VerticalAlignment="Center"/>
                    </StackPanel>
                </RadioButton>

                <RadioButton Style="{StaticResource NavButtonStyle}" 
                             Command="{Binding NavigateScheduleCommand}">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="CalendarClock" Width="24" Height="24" Margin="0,0,20,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Schedule" FontSize="16" VerticalAlignment="Center"/>
                    </StackPanel>
                </RadioButton>

                <RadioButton Style="{StaticResource NavButtonStyle}" 
                             Command="{Binding NavigateStatsCommand}">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="ChartAreaspline" Width="24" Height="24" Margin="0,0,20,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Analytics" FontSize="16" VerticalAlignment="Center"/>
                    </StackPanel>
                </RadioButton>
                
                <RadioButton Style="{StaticResource NavButtonStyle}" 
                             Command="{Binding NavigateSettingsCommand}">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="CogOutline" Width="24" Height="24" Margin="0,0,20,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Settings" FontSize="16" VerticalAlignment="Center"/>
                    </StackPanel>
                </RadioButton>

            </StackPanel>
        </Border>

        <!-- Main Content -->
        <ContentControl Grid.Column="1" Content="{Binding CurrentViewModel}" FocusVisualStyle="{x:Null}">
            <ContentControl.Style>
                <Style TargetType="ContentControl">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding ShowSidebar}" Value="False">
                            <Setter Property="Grid.Column" Value="0"/>
                            <Setter Property="Grid.ColumnSpan" Value="2"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </ContentControl.Style>
            <ContentControl.Resources>
                <DataTemplate DataType="{x:Type viewmodels:WelcomeViewModel}">
                    <views:WelcomePage/>
                </DataTemplate>
                
                <DataTemplate DataType="{x:Type viewmodels:DashboardViewModel}">
                    <views:DashboardPage/>
                </DataTemplate>
                
                <DataTemplate DataType="{x:Type viewmodels:ScheduleViewModel}">
                    <Border Background="{StaticResource CardBackground}" Padding="30">
                        <TextBlock Text="Schedule (Coming Soon)" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </DataTemplate>
                
                <DataTemplate DataType="{x:Type viewmodels:StatsViewModel}">
                    <Border Background="{StaticResource CardBackground}" Padding="30">
                        <TextBlock Text="Statistics (Coming Soon)" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </DataTemplate>
                
                <DataTemplate DataType="{x:Type viewmodels:SettingsViewModel}">
                    <Border Background="{StaticResource CardBackground}" Padding="30">
                        <TextBlock Text="Settings (Coming Soon)" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </DataTemplate>
                
                <DataTemplate DataType="{x:Type viewmodels:BlockedWebsitesViewModel}">
                    <views:BlockedWebsitesPage/>
                </DataTemplate>
                
                <DataTemplate DataType="{x:Type viewmodels:BlockedApplicationsViewModel}">
                    <views:BlockedApplicationsPage/>
                </DataTemplate>
            </ContentControl.Resources>
        </ContentControl>
        </Grid>
    </Grid>
</Window>
